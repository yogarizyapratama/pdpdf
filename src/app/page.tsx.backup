'use client';
import React, { useState, useMemo } from 'react';
import Link from 'next/link'
import { 
  Merge, 
  Split, 
  Zap as Compress, 
  FileImage, 
  FileText, 
  Download,
  Upload,
  Edit3,
  Shield,
  Search,
  RotateCcw,
  Copy,
  Scissors,
  Settings,
  Lock,
  Eye,
  Scan,
  ArrowRight,
  Star,
  TrendingUp
} from 'lucide-react'
import Header from '@/components/Header'
import Footer from '@/components/Footer'
import AdBanner from '@/components/AdBanner'
import SearchComponent from '@/components/SearchComponent'

interface ToolCard {
  title: string
  description: string
  icon: React.ComponentType<{ className?: string }>
  href: string
  category: string
  popular?: boolean
  topTool?: boolean
  usage?: number // Usage ranking for popular tools
}

const tools: ToolCard[] = [
  // Top 2 Most Used Tools
  {
    title: 'Merge PDF',
    description: 'Combine multiple PDF files into one document',
    icon: Merge,
    href: '/merge-pdf',
    category: 'organize',
    popular: true,
    topTool: true,
    usage: 1
  },
  {
    title: 'Compress PDF',
    description: 'Reduce PDF file size while maintaining quality',
    icon: Compress,
    href: '/compress-pdf',
    category: 'optimize',
    popular: true,
    topTool: true,
    usage: 2
  },

  // Other Popular Tools
  {
    title: 'Split PDF',
    description: 'Extract pages or split PDF into multiple files',
    icon: Split,
    href: '/split-pdf',
    category: 'organize',
    popular: true,
    usage: 3
  },
    usage: 3
  },
  {
    title: 'Remove Pages',
    description: 'Delete unwanted pages from your PDF',
    icon: Scissors,
    href: '/remove-pages',
    category: 'organize'
  },
  {
    title: 'Extract Pages',
    description: 'Extract specific pages as new PDF',
    icon: Copy,
    href: '/extract-pages',
    category: 'organize'
  },
  {
    title: 'Organize PDF',
    description: 'Reorder pages by drag and drop',
    icon: Settings,
    href: '/organize-pdf',
    category: 'organize'
  },
  {
    title: 'Scan to PDF',
    description: 'Convert images to PDF document',
    icon: Scan,
    href: '/scan-to-pdf',
    category: 'organize'
  },

  // Optimize PDF
  {
    title: 'Repair PDF',
    description: 'Fix corrupted or damaged PDF files',
    icon: Settings,
    href: '/repair-pdf',
    category: 'optimize'
  },
  {
    title: 'OCR PDF',
    description: 'Extract text from scanned PDF documents',
    icon: Search,
    href: '/ocr-pdf',
    category: 'optimize'
  },

  // Convert To PDF
  {
    title: 'JPG to PDF',
    description: 'Convert image files to PDF format',
    icon: FileImage,
    href: '/jpg-to-pdf',
    category: 'convert-to'
  },
  {
    title: 'Word to PDF',
    description: 'Convert Word documents to PDF',
    icon: FileText,
    href: '/word-to-pdf',
    category: 'convert-to'
  },
  {
    title: 'PowerPoint to PDF',
    description: 'Convert presentations to PDF',
    icon: FileText,
    href: '/powerpoint-to-pdf',
    category: 'convert-to'
  },
  {
    title: 'Excel to PDF',
    description: 'Convert spreadsheets to PDF',
    icon: FileText,
    href: '/excel-to-pdf',
    category: 'convert-to'
  },
  {
    title: 'HTML to PDF',
    description: 'Convert web pages to PDF',
    icon: FileText,
    href: '/html-to-pdf',
    category: 'convert-to'
  },

  // Convert From PDF
  {
    title: 'PDF to JPG',
    description: 'Convert PDF pages to image files',
    icon: Download,
    href: '/pdf-to-jpg',
    category: 'convert-from'
  },
  {
    title: 'PDF to Word',
    description: 'Convert PDF to editable Word document',
    icon: Download,
    href: '/pdf-to-word',
    category: 'convert-from'
  },
  {
    title: 'PDF to PowerPoint',
    description: 'Convert PDF to PowerPoint presentation',
    icon: Download,
    href: '/pdf-to-powerpoint',
    category: 'convert-from'
  },
  {
    title: 'PDF to Excel',
    description: 'Convert PDF to Excel spreadsheet',
    icon: Download,
    href: '/pdf-to-excel',
    category: 'convert-from'
  },

  // Edit PDF
  {
    title: 'Rotate PDF',
    description: 'Rotate PDF pages to correct orientation',
    icon: RotateCcw,
    href: '/rotate-pdf',
    category: 'edit'
  },
  {
    title: 'Add Page Numbers',
    description: 'Insert page numbers to your PDF',
    icon: Edit3,
    href: '/pagenumber-pdf',
    category: 'edit'
  },
  {
    title: 'Add Watermark',
    description: 'Add text or image watermarks',
    icon: Edit3,
    href: '/watermark-pdf',
    category: 'edit'
  },
  {
    title: 'Crop PDF',
    description: 'Crop and resize PDF pages',
    icon: Scissors,
    href: '/crop-pdf',
    category: 'edit'
  },

  // Security
  {
    title: 'Unlock PDF',
    description: 'Remove password protection from PDF',
    icon: Lock,
    href: '/unlock-pdf',
    category: 'security'
  },
  {
    title: 'Protect PDF',
    description: 'Add password protection to PDF',
    icon: Shield,
    href: '/protect-pdf',
    category: 'security'
  },
  {
    title: 'Sign PDF',
    description: 'Add digital signature to PDF',
    icon: Edit3,
    href: '/sign-pdf',
    category: 'security'
  },
  {
    title: 'Compare PDF',
    description: 'Compare two PDF files side by side',
    icon: Eye,
    href: '/compare-pdf',
    category: 'security'
  }
]

const categories = [
  {
    id: 'organize',
    title: 'Organize PDF',
    description: 'Merge, split, and organize your PDF files',
    color: 'bg-blue-500',
    icon: Settings
  },
  {
    id: 'optimize',
    title: 'Optimize PDF',
    description: 'Compress and enhance your PDFs',
    color: 'bg-green-500',
    icon: Compress
  },
  {
    id: 'convert-to',
    title: 'Convert to PDF',
    description: 'Convert various formats to PDF',
    color: 'bg-purple-500',
    icon: Upload
  },
  {
    id: 'convert-from',
    title: 'Convert from PDF',
    description: 'Convert PDF to other formats',
    color: 'bg-orange-500',
    icon: Download
  },
  {
    id: 'edit',
    title: 'Edit PDF',
    description: 'Edit and modify your PDFs',
    color: 'bg-red-500',
    icon: Edit3
  },
  {
    id: 'security',
    title: 'PDF Security',
    description: 'Protect and secure your PDFs',
    color: 'bg-gray-500',
    icon: Shield
  }
]

export default function HomePage() {
  const popularTools = tools.filter(tool => tool.popular)

  return (
    <div className="min-h-screen flex flex-col">
      <Header />
      
      <main className="flex-1">
        {/* Hero Section */}
        <section className="relative bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-800 dark:to-gray-900 py-20">
          <div className="container mx-auto px-4 sm:px-6 lg:px-8">
            <div className="text-center max-w-4xl mx-auto">
              <h1 className="text-4xl md:text-6xl font-bold text-gray-900 dark:text-white mb-6">
                Free PDF Tools
                <span className="block text-blue-600">All-in-One Solution</span>
              </h1>
              <p className="text-xl text-gray-600 dark:text-gray-300 mb-8 max-w-2xl mx-auto">
                Merge, split, compress, convert, edit, and secure your PDF files online. 
                No registration required, completely free, and works offline.
              </p>
              
              {/* Popular Tools Quick Access */}
              <div className="grid grid-cols-1 sm:grid-cols-3 gap-4 max-w-3xl mx-auto">
                {popularTools.map((tool) => {
                  const Icon = tool.icon
                  return (
                    <Link
                      key={tool.href}
                      href={tool.href}
                      className="group p-4 bg-white dark:bg-gray-800 rounded-lg shadow-md hover:shadow-lg transition-all duration-200 border border-gray-200 dark:border-gray-700"
                    >
                      <div className="flex items-center space-x-3">
                        <div className="p-2 bg-blue-100 dark:bg-blue-900 rounded-lg">
                          <Icon className="h-6 w-6 text-blue-600 dark:text-blue-400" />
                        </div>
                        <div className="text-left">
                          <h3 className="font-semibold text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors">
                            {tool.title}
                          </h3>
                          <p className="text-sm text-gray-600 dark:text-gray-400">
                            {tool.description}
                          </p>
                        </div>
                      </div>
                    </Link>
                  )
                })}
              </div>
            </div>
          </div>
          
          {/* Ad Banner */}
          <div className="container mx-auto px-4 sm:px-6 lg:px-8 mt-16">
            <div className="max-w-4xl mx-auto">
              <AdBanner position="top" />
            </div>
          </div>
        </section>

        {/* Tool Categories */}
        <section className="py-20 bg-white dark:bg-gray-900">
          <div className="container mx-auto px-4 sm:px-6 lg:px-8">
            <div className="text-center mb-16">
              <h2 className="text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4">
                PDF Tools by Category
              </h2>
              <p className="text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto">
                Explore our comprehensive collection of PDF tools organized by functionality
              </p>
            </div>

            <div className="space-y-16">
              {categories.map((category) => {
                const categoryTools = tools.filter(tool => tool.category === category.id)
                const CategoryIcon = category.icon
                
                return (
                  <div key={category.id} className="space-y-8">
                    {/* Category Header */}
                    <div className="flex items-center space-x-4">
                      <div className={`p-3 ${category.color} rounded-lg`}>
                        <CategoryIcon className="h-8 w-8 text-white" />
                      </div>
                      <div>
                        <h3 className="text-2xl font-bold text-gray-900 dark:text-white">
                          {category.title}
                        </h3>
                        <p className="text-gray-600 dark:text-gray-300">
                          {category.description}
                        </p>
                      </div>
                    </div>

                    {/* Category Tools */}
                    <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                      {categoryTools.map((tool) => {
                        const Icon = tool.icon
                        return (
                          <Link
                            key={tool.href}
                            href={tool.href}
                            className="group p-6 bg-gray-50 dark:bg-gray-800 rounded-lg hover:bg-white dark:hover:bg-gray-700 transition-all duration-200 border border-gray-200 dark:border-gray-700 hover:shadow-lg"
                          >
                            <div className="space-y-4">
                              <div className="flex items-center justify-between">
                                <div className="p-3 bg-white dark:bg-gray-600 rounded-lg shadow-sm">
                                  <Icon className="h-6 w-6 text-gray-700 dark:text-gray-300" />
                                </div>
                                <ArrowRight className="h-4 w-4 text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors" />
                              </div>
                              <div>
                                <h4 className="font-semibold text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors">
                                  {tool.title}
                                </h4>
                                <p className="text-sm text-gray-600 dark:text-gray-400 mt-1">
                                  {tool.description}
                                </p>
                              </div>
                            </div>
                          </Link>
                        )
                      })}
                    </div>
                  </div>
                )
              })}
            </div>
          </div>
        </section>

        {/* Features Section */}
        <section className="py-20 bg-gray-50 dark:bg-gray-800">
          <div className="container mx-auto px-4 sm:px-6 lg:px-8">
            <div className="text-center mb-16">
              <h2 className="text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4">
                Why Choose Our PDF Tools?
              </h2>
            </div>

            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
              <div className="text-center space-y-4">
                <div className="p-4 bg-blue-100 dark:bg-blue-900 rounded-full w-16 h-16 mx-auto flex items-center justify-center">
                  <Shield className="h-8 w-8 text-blue-600 dark:text-blue-400" />
                </div>
                <h3 className="text-xl font-semibold text-gray-900 dark:text-white">
                  100% Secure
                </h3>
                <p className="text-gray-600 dark:text-gray-300">
                  Your files are processed securely. Some tools use server-side processing, but your data is never stored and privacy is always protected.
                </p>
              </div>

              <div className="text-center space-y-4">
                <div className="p-4 bg-green-100 dark:bg-green-900 rounded-full w-16 h-16 mx-auto flex items-center justify-center">
                  <FileText className="h-8 w-8 text-green-600 dark:text-green-400" />
                </div>
                <h3 className="text-xl font-semibold text-gray-900 dark:text-white">
                  No Registration
                </h3>
                <p className="text-gray-600 dark:text-gray-300">
                  Use all tools instantly without creating an account or providing personal information.
                </p>
              </div>

              <div className="text-center space-y-4">
                <div className="p-4 bg-purple-100 dark:bg-purple-900 rounded-full w-16 h-16 mx-auto flex items-center justify-center">
                  <Settings className="h-8 w-8 text-purple-600 dark:text-purple-400" />
                </div>
                <h3 className="text-xl font-semibold text-gray-900 dark:text-white">
                  Fast & Reliable
                </h3>
                <p className="text-gray-600 dark:text-gray-300">
                  High-performance client-side processing for maximum speed and privacy.
                </p>
              </div>
            </div>
          </div>
        </section>

        {/* --- Fake User Reviews Section --- */}
        <div className="max-w-5xl mx-auto mt-16 mb-12">
          <h2 className="text-3xl font-bold text-center mb-10">What Our Users Say</h2>
          <div className="flex overflow-x-auto space-x-8 pb-4 hide-scrollbar">
            {/* Review Card 1 */}
            <div className="min-w-[320px] max-w-xs bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 flex flex-col items-center mx-2">
              <img src="https://images.unsplash.com/photo-1508214751196-bcfd4ca60f91?auto=format&fit=facearea&w=128&h=128&facepad=2" alt="Michael Lee" className="w-20 h-20 rounded-full mb-4 shadow-lg border-4 border-green-500" />
              <span className="font-bold text-lg text-gray-900 dark:text-gray-100 mb-1">Michael Lee</span>
              <span className="text-yellow-500 mb-3 text-lg">★★★★★</span>
              <blockquote className="italic text-gray-700 dark:text-gray-300 text-center text-base leading-relaxed">“This PDF tool is a lifesaver! Signing documents on my phone is super easy and fast.”</blockquote>
            </div>
            {/* Review Card 2 */}
            <div className="min-w-[320px] max-w-xs bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 flex flex-col items-center mx-2">
              <img src="https://images.unsplash.com/photo-1511367461989-f85a21fda167?auto=format&fit=facearea&w=128&h=128&facepad=2" alt="Jessica Brown" className="w-20 h-20 rounded-full mb-4 shadow-lg border-4 border-blue-500" />
              <span className="font-bold text-lg text-gray-900 dark:text-gray-100 mb-1">Jessica Brown</span>
              <span className="text-yellow-500 mb-3 text-lg">★★★★★</span>
              <blockquote className="italic text-gray-700 dark:text-gray-300 text-center text-base leading-relaxed">“Compressing PDFs for email is so simple now. The quality is great and the files are much smaller!”</blockquote>
            </div>
            {/* Review Card 3 */}
            <div className="min-w-[320px] max-w-xs bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 flex flex-col items-center mx-2">
              <img src="https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?auto=format&fit=facearea&w=128&h=128&facepad=2" alt="David Kim" className="w-20 h-20 rounded-full mb-4 shadow-lg border-4 border-purple-500" />
              <span className="font-bold text-lg text-gray-900 dark:text-gray-100 mb-1">David Kim</span>
              <span className="text-yellow-500 mb-3 text-lg">★★★★★</span>
              <blockquote className="italic text-gray-700 dark:text-gray-300 text-center text-base leading-relaxed">“No registration needed and all features work perfectly. Highly recommended for remote work!”</blockquote>
            </div>
            {/* Review Card 4 */}
            <div className="min-w-[320px] max-w-xs bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 flex flex-col items-center mx-2">
              <img src="https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=facearea&w=128&h=128&facepad=2" alt="Emily Carter" className="w-20 h-20 rounded-full mb-4 shadow-lg border-4 border-pink-500" />
              <span className="font-bold text-lg text-gray-900 dark:text-gray-100 mb-1">Emily Carter</span>
              <span className="text-yellow-500 mb-3 text-lg">★★★★★</span>
              <blockquote className="italic text-gray-700 dark:text-gray-300 text-center text-base leading-relaxed">“I love how easy it is to split and merge PDFs. The interface is clean and intuitive!”</blockquote>
            </div>
            {/* Review Card 5 */}
            <div className="min-w-[320px] max-w-xs bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 flex flex-col items-center mx-2">
              <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=facearea&w=128&h=128&facepad=2" alt="Alex Johnson" className="w-20 h-20 rounded-full mb-4 shadow-lg border-4 border-yellow-500" />
              <span className="font-bold text-lg text-gray-900 dark:text-gray-100 mb-1">Alex Johnson</span>
              <span className="text-yellow-500 mb-3 text-lg">★★★★★</span>
              <blockquote className="italic text-gray-700 dark:text-gray-300 text-center text-base leading-relaxed">“The OCR feature is fantastic! It helped me extract text from scanned documents in seconds.”</blockquote>
            </div>
          </div>
        </div>

        {/* Help & Feedback Section */}
        <div className="w-full flex justify-center mt-8 mb-4">
          <a href="/help" className="px-6 py-3 bg-blue-600 text-white rounded-full font-semibold shadow-lg hover:bg-blue-700 transition-all">
            💡 Help & Feedback
          </a>
        </div>

        {/* Bottom Ad Banner */}
        <section className="py-12 bg-gray-50 dark:bg-gray-800">
          <div className="container mx-auto px-4 sm:px-6 lg:px-8">
            <div className="max-w-4xl mx-auto">
              <AdBanner position="bottom" />
            </div>
          </div>
        </section>
      </main>

      <Footer />
    </div>
  )
}
